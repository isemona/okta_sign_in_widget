<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://global.oktacdn.com/okta-signin-widget/3.1.3/js/okta-sign-in.min.js"
      type="text/javascript"
    ></script>
    <link
      href="https://global.oktacdn.com/okta-signin-widget/3.1.3/css/okta-sign-in.min.css"
      type="text/css"
      rel="stylesheet"
    />

    <script>
      var baseUrl = "https://${yourOktaDomain}";
      var xhr = new XMLHttpRequest();
      if ("withCredentials" in xhr) {
        xhr.onerror = function() {
          alert(
            "Invalid URL or Cross-Origin Request Blocked.  You must explicitly add this site (" +
              window.location.origin +
              ") to the list of allowed websites in the administrator UI"
          );
        };
        xhr.onload = function() {
          alert(this.responseText);
        };
        xhr.open(
          "GET",
          "https://semonav2.oktapreview.com" + "/api/v1/users/me",
          true
        );
        xhr.withCredentials = true;
        xhr.send();
      } else {
        alert("CORS is not supported for this browser!");
      }
    </script>

    <div id="widget-container"></div>
    <script>
          var signIn = new OktaSignIn({
            baseUrl: "https://semonav2.oktapreview.com",
            features: {
        idpDiscovery: true
      }
          });
          signIn.renderEl(
            {
              el: "#widget-container"
            },
            function success(res) {
              if (res.status === "SUCCESS") {
                res.session.setCookieAndRedirect("http://localhost:8000/");
              } else {
                // The user can be in another authentication state that requires further action.
                // For more information about these states, see:
                //   https://github.com/okta/okta-signin-widget#rendereloptions-success-error
              }
            }
          );
    </script>
  </head>

  <body></body>
</html>
